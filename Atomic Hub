local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-- Variables

local UserInputService = game:GetService("UserInputService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local scriptRunning = true
local noclipEnabled = false
local speedEnabled = false
local infJumpEnabled = false
local infJumpConnection = nil
local autoFishEnabled = false
local currentClickDelay = 0.5
local currentSpeed = 16

local speedMap = {
    ["Slowly"] = 0.5,
    ["Normal"] = 0.1,
    ["High"] = 0.03,
    ["Instant"] = 0.001
}

local function doInfJump()
    if infJumpEnabled then
        local char = game.Players.LocalPlayer.Character
        local hum = char and char:FindFirstChildOfClass("Humanoid")
        if hum then
            hum:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end

-- Window

local Window = WindUI:CreateWindow({
    Title = "Atomic Hub",
    Icon = "atom",
    Author = "by WoxverUA",
    Folder = "AtomicHub",
    Size = UDim2.fromOffset(580, 460),
    Transparent = true,
    Theme = "Dark",
    KeySystem = { 
        Key = { "1234" },
        Note = "Atomic Key System",
        URL = "BETA - Key: 1234",
        SaveKey = true,
    },
})

Window:EditOpenButton({
    Title = "Open UI",
    Icon = "atom",
    CornerRadius = UDim.new(0,16),
    Color = ColorSequence.new(
        Color3.fromHex("ffae00"), 
        Color3.fromHex("fffb00")
    ),
    Enabled = true,
    Draggable = true,
})

-- Tabs

local HomeTab = Window:Tab({
    Title = "| Home",
    Icon = "blocks"
})

local MainTab = Window:Tab({
    Title = "| Main",
    Icon = "house"
})

-- Sections

local LocalPlayerSection = HomeTab:Section({
    Title = "| LocalPlayer",
})

local FishConfigSection = MainTab:Section({
    Title = "| Config",
})

-- Elements

LocalPlayerSection:Divider()

local LocalPlayerSection:Input({
    Title = "Player Speed",
    Placeholder = "Speed",
    Callback = function(text)
        currentSpeed = tonumber(text) or 16
    end
})

local LocalPlayerSection:Toggle({
    Title = "Enable Speed",
    Value = false,
    Callback = function(state)
        speedEnabled = state
        if not state then
            local char = game.Players.LocalPlayer.Character
            if char and char:FindFirstChild("Humanoid") then
                char.Humanoid.WalkSpeed = 16
            end
        end
    end
})

local LocalPlayerSection:Toggle({
    Title = "Infinity Jump",
    Value = false,
    Callback = function(state) 
        infJumpEnabled = state
        if state then
            if not infJumpConnection then
                infJumpConnection = UserInputService.JumpRequest:Connect(doInfJump)
            end
        else
            if infJumpConnection then
                infJumpConnection:Disconnect()
                infJumpConnection = nil
            end
        end
    end
})

local LocalPlayerSection:Toggle({
    Title = "Noclip",
    Value = false,
    Callback = function(state)
        noclipEnabled = state
    end
})

local CatchSpeedDropdown = FishConfigSection:Dropdown({
    Title = "Catch Speed",
    Items = { "Slowly", "Normal", "High", "Instant" },
    Default = "Slowly",
    Callback = function(option) 
        currentClickDelay = speedMap[option]
        print("Catch Speed set to: " .. option) 
    end
})

-- Other

task.spawn(function()
    while scriptRunning do
        if autoFishEnabled then
            VirtualInputManager:SendMouseButtonEvent(500, 500, 0, true, game, 0)
            task.wait(0.01)
            VirtualInputManager:SendMouseButtonEvent(500, 500, 0, false, game, 0)
            
            task.wait(currentClickDelay)
        else
            task.wait(0.5)
        end
    end
end)
    
task.spawn(function()
    while scriptRunning do
        local p = game.Players.LocalPlayer
        local char = p.Character
        
        if char then
            if speedEnabled then
                local hum = char:FindFirstChild("Humanoid")
                if hum then
                    hum.WalkSpeed = currentSpeed
                end
            end
            
            if noclipEnabled then
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end
        
        task.wait(0.1)
    end
end)

local function fullUnload()
    scriptRunning = false
    infJumpEnabled = false
    if infJumpConnection then
        infJumpConnection:Disconnect()
        infJumpConnection = nil
    end
    
    local char = game.Players.LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.WalkSpeed = 16
    end
    
    Window:Destroy() 
end